{"ast":null,"code":"import { BEGIN_DRAG, DROP, END_DRAG, HOVER, PUBLISH_DRAG_SOURCE } from '../actions/dragDrop/index.js';\nimport { ADD_SOURCE, ADD_TARGET, REMOVE_SOURCE, REMOVE_TARGET } from '../actions/registry.js';\nimport { ALL, NONE } from '../utils/dirtiness.js';\nimport { areArraysEqual } from '../utils/equality.js';\nimport { xor } from '../utils/js_utils.js';\nexport function reduce() {\n  var _state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : NONE;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  switch (action.type) {\n    case HOVER:\n      break;\n    case ADD_SOURCE:\n    case ADD_TARGET:\n    case REMOVE_TARGET:\n    case REMOVE_SOURCE:\n      return NONE;\n    case BEGIN_DRAG:\n    case PUBLISH_DRAG_SOURCE:\n    case END_DRAG:\n    case DROP:\n    default:\n      return ALL;\n  }\n  var _action$payload = action.payload,\n    _action$payload$targe = _action$payload.targetIds,\n    targetIds = _action$payload$targe === void 0 ? [] : _action$payload$targe,\n    _action$payload$prevT = _action$payload.prevTargetIds,\n    prevTargetIds = _action$payload$prevT === void 0 ? [] : _action$payload$prevT;\n  var result = xor(targetIds, prevTargetIds);\n  var didChange = result.length > 0 || !areArraysEqual(targetIds, prevTargetIds);\n  if (!didChange) {\n    return NONE;\n  }\n  // Check the target ids at the innermost position. If they are valid, add them\n  // to the result\n  var prevInnermostTargetId = prevTargetIds[prevTargetIds.length - 1];\n  var innermostTargetId = targetIds[targetIds.length - 1];\n  if (prevInnermostTargetId !== innermostTargetId) {\n    if (prevInnermostTargetId) {\n      result.push(prevInnermostTargetId);\n    }\n    if (innermostTargetId) {\n      result.push(innermostTargetId);\n    }\n  }\n  return result;\n}","map":{"version":3,"names":["BEGIN_DRAG","DROP","END_DRAG","HOVER","PUBLISH_DRAG_SOURCE","ADD_SOURCE","ADD_TARGET","REMOVE_SOURCE","REMOVE_TARGET","ALL","NONE","areArraysEqual","xor","reduce","_state","arguments","length","undefined","action","type","_action$payload","payload","_action$payload$targe","targetIds","_action$payload$prevT","prevTargetIds","result","didChange","prevInnermostTargetId","innermostTargetId","push"],"sources":["C:\\Users\\oyeti\\Documents\\GitHub\\HNG_Stage-Three\\node_modules\\dnd-core\\src\\reducers\\dirtyHandlerIds.ts"],"sourcesContent":["import {\n\tBEGIN_DRAG,\n\tDROP,\n\tEND_DRAG,\n\tHOVER,\n\tPUBLISH_DRAG_SOURCE,\n} from '../actions/dragDrop/index.js'\nimport {\n\tADD_SOURCE,\n\tADD_TARGET,\n\tREMOVE_SOURCE,\n\tREMOVE_TARGET,\n} from '../actions/registry.js'\nimport type { Action } from '../interfaces.js'\nimport { ALL, NONE } from '../utils/dirtiness.js'\nimport { areArraysEqual } from '../utils/equality.js'\nimport { xor } from '../utils/js_utils.js'\n\nexport type State = string[]\n\nexport interface DirtyHandlerIdPayload {\n\ttargetIds: string[]\n\tprevTargetIds: string[]\n}\n\nexport function reduce(\n\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\n\t_state: State = NONE,\n\taction: Action<DirtyHandlerIdPayload>,\n): State {\n\tswitch (action.type) {\n\t\tcase HOVER:\n\t\t\tbreak\n\t\tcase ADD_SOURCE:\n\t\tcase ADD_TARGET:\n\t\tcase REMOVE_TARGET:\n\t\tcase REMOVE_SOURCE:\n\t\t\treturn NONE\n\t\tcase BEGIN_DRAG:\n\t\tcase PUBLISH_DRAG_SOURCE:\n\t\tcase END_DRAG:\n\t\tcase DROP:\n\t\tdefault:\n\t\t\treturn ALL\n\t}\n\n\tconst { targetIds = [], prevTargetIds = [] } = action.payload\n\tconst result = xor(targetIds, prevTargetIds)\n\tconst didChange =\n\t\tresult.length > 0 || !areArraysEqual(targetIds, prevTargetIds)\n\n\tif (!didChange) {\n\t\treturn NONE\n\t}\n\n\t// Check the target ids at the innermost position. If they are valid, add them\n\t// to the result\n\tconst prevInnermostTargetId = prevTargetIds[prevTargetIds.length - 1]\n\tconst innermostTargetId = targetIds[targetIds.length - 1]\n\tif (prevInnermostTargetId !== innermostTargetId) {\n\t\tif (prevInnermostTargetId) {\n\t\t\tresult.push(prevInnermostTargetId)\n\t\t}\n\t\tif (innermostTargetId) {\n\t\t\tresult.push(innermostTargetId)\n\t\t}\n\t}\n\n\treturn result\n}\n"],"mappings":"AAAA,SACCA,UAAU,EACVC,IAAI,EACJC,QAAQ,EACRC,KAAK,EACLC,mBAAmB,QACb,8BAA8B;AACrC,SACCC,UAAU,EACVC,UAAU,EACVC,aAAa,EACbC,aAAa,QACP,wBAAwB;AAE/B,SAASC,GAAG,EAAEC,IAAI,QAAQ,uBAAuB;AACjD,SAASC,cAAc,QAAQ,sBAAsB;AACrD,SAASC,GAAG,QAAQ,sBAAsB;AAS1C,OAAO,SAASC,MAAMA,CAAA,EAIb;EAAA,IAFRC,MAAa,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAE,SAAA,GAAAF,SAAA,MAAGL,IAAI;EAAA,IACpBQ,MAAqC,GAAAH,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAE,SAAA;EAErC,QAAQC,MAAM,CAACC,IAAI;IAClB,KAAKhB,KAAK;MACT;IACD,KAAKE,UAAU;IACf,KAAKC,UAAU;IACf,KAAKE,aAAa;IAClB,KAAKD,aAAa;MACjB,OAAOG,IAAI;IACZ,KAAKV,UAAU;IACf,KAAKI,mBAAmB;IACxB,KAAKF,QAAQ;IACb,KAAKD,IAAI;IACT;MACC,OAAOQ,GAAG;;EAGZ,IAAAW,eAAA,GAA+CF,MAAM,CAACG,OAAO;IAAAC,qBAAA,GAAAF,eAAA,CAArDG,SAAS;IAATA,SAAS,GAAAD,qBAAA,cAAG,EAAE,GAAAA,qBAAA;IAAAE,qBAAA,GAAAJ,eAAA,CAAEK,aAAa;IAAbA,aAAa,GAAAD,qBAAA,cAAG,EAAE,GAAAA,qBAAA;EAC1C,IAAME,MAAM,GAAGd,GAAG,CAACW,SAAS,EAAEE,aAAa,CAAC;EAC5C,IAAME,SAAS,GACdD,MAAM,CAACV,MAAM,GAAG,CAAC,IAAI,CAACL,cAAc,CAACY,SAAS,EAAEE,aAAa,CAAC;EAE/D,IAAI,CAACE,SAAS,EAAE;IACf,OAAOjB,IAAI;;EAGZ;EACA;EACA,IAAMkB,qBAAqB,GAAGH,aAAa,CAACA,aAAa,CAACT,MAAM,GAAG,CAAC,CAAC;EACrE,IAAMa,iBAAiB,GAAGN,SAAS,CAACA,SAAS,CAACP,MAAM,GAAG,CAAC,CAAC;EACzD,IAAIY,qBAAqB,KAAKC,iBAAiB,EAAE;IAChD,IAAID,qBAAqB,EAAE;MAC1BF,MAAM,CAACI,IAAI,CAACF,qBAAqB,CAAC;;IAEnC,IAAIC,iBAAiB,EAAE;MACtBH,MAAM,CAACI,IAAI,CAACD,iBAAiB,CAAC;;;EAIhC,OAAOH,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}