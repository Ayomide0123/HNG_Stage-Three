{"ast":null,"code":"import _toConsumableArray from\"C:/Users/oyeti/Documents/GitHub/HNG_Stage-Three/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/oyeti/Documents/GitHub/HNG_Stage-Three/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'./Image.css';import'./Search.css';import searchIcon from'../img/search.png';import img1 from'../img/pexels_1.jpeg';import img2 from'../img/pexels_2.jpeg';import img3 from'../img/pexels_3.jpeg';import img4 from'../img/pexels_4.jpeg';import img5 from'../img/pexels_5.jpeg';import img6 from'../img/pexels_6.jpeg';import img7 from'../img/pexels_7.jpeg';import img8 from'../img/pexels_8.jpeg';import img9 from'../img/pexels_9.jpeg';import img10 from'../img/pexels_10.jpeg';import img11 from'../img/pexels_11.jpeg';import img12 from'../img/pexels_12.jpeg';import img13 from'../img/pexels_13.jpeg';import{DndProvider}from'react-dnd';import{TouchBackend}from'react-dnd-touch-backend';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var initialImages=[{id:'image1',src:img1,tags:['animals']},{id:'image2',src:img2,tags:['animals']},{id:'image3',src:img3,tags:['animals']},{id:'image4',src:img4,tags:['animals']},{id:'image5',src:img5,tags:['animals']},{id:'image6',src:img6,tags:['cars']},{id:'image7',src:img7,tags:['books']},{id:'image8',src:img8,tags:['books']},{id:'image9',src:img9,tags:['books']},{id:'image10',src:img10,tags:['cars']},{id:'image11',src:img11,tags:['books']},{id:'image12',src:img12,tags:['cars']},{id:'image13',src:img13,tags:['cars']}];function Images(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),images=_useState2[0],setImages=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),searchQuery=_useState4[0],setSearchQuery=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];useEffect(function(){var preloadImages=function preloadImages(){var imagesToPreload=initialImages.map(function(image){var img=new Image();img.src=image.src;return img;});Promise.all(imagesToPreload.map(function(img){return img.decode();})).then(function(){setImages(initialImages);setLoading(false);}).catch(function(error){console.error('Error preloading images:',error);});};preloadImages();},[]);var handleDragStart=function handleDragStart(e,id){e.dataTransfer.setData('text/plain',id);};var handleDragOver=function handleDragOver(e){e.preventDefault();};var handleDrop=function handleDrop(e,targetIndex){e.preventDefault();var draggedImageId=e.dataTransfer.getData('text/plain');var updatedImages=_toConsumableArray(images);var draggedImage=updatedImages.find(function(image){return image.id===draggedImageId;});if(draggedImage){var currentIndex=updatedImages.findIndex(function(image){return image.id===draggedImageId;});updatedImages.splice(currentIndex,1);updatedImages.splice(targetIndex,0,draggedImage);setImages(updatedImages);}};var filterImages=function filterImages(query){setSearchQuery(query);var filteredImages=initialImages.filter(function(image){return image.tags.some(function(tag){return tag.toLowerCase().includes(query.toLowerCase());});});setImages(filteredImages);};return/*#__PURE__*/_jsx(DndProvider,{backend:TouchBackend,options:{enableMouseEvents:true},children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search-container\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search for Images (e.g animals, cars, books..)\",className:\"search-input\",value:searchQuery,onChange:function onChange(e){return filterImages(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"search-button\",children:/*#__PURE__*/_jsx(\"img\",{src:searchIcon,alt:\"search button\"})})]}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"loader\",children:\"Loading...\"}):/*#__PURE__*/_jsx(\"div\",{className:\"image-gallery\",children:images.map(function(image,index){return/*#__PURE__*/_jsx(\"div\",{className:\"image-item\",draggable:true,onDragStart:function onDragStart(e){return handleDragStart(e,image.id);},onDragOver:handleDragOver,onDrop:function onDrop(e){return handleDrop(e,index);},children:/*#__PURE__*/_jsx(\"img\",{src:image.src,alt:\"Index: \".concat(index+1),className:\"drag-image\"})},image.id);})})]})});}export default Images;","map":{"version":3,"names":["React","useState","useEffect","searchIcon","img1","img2","img3","img4","img5","img6","img7","img8","img9","img10","img11","img12","img13","DndProvider","TouchBackend","jsx","_jsx","jsxs","_jsxs","initialImages","id","src","tags","Images","_useState","_useState2","_slicedToArray","images","setImages","_useState3","_useState4","searchQuery","setSearchQuery","_useState5","_useState6","loading","setLoading","preloadImages","imagesToPreload","map","image","img","Image","Promise","all","decode","then","catch","error","console","handleDragStart","e","dataTransfer","setData","handleDragOver","preventDefault","handleDrop","targetIndex","draggedImageId","getData","updatedImages","_toConsumableArray","draggedImage","find","currentIndex","findIndex","splice","filterImages","query","filteredImages","filter","some","tag","toLowerCase","includes","backend","options","enableMouseEvents","children","className","type","placeholder","value","onChange","target","alt","index","draggable","onDragStart","onDragOver","onDrop","concat"],"sources":["C:/Users/oyeti/Documents/GitHub/HNG_Stage-Three/src/components/Images.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './Image.css';\r\nimport './Search.css';\r\nimport searchIcon from '../img/search.png';\r\nimport img1 from '../img/pexels_1.jpeg';\r\nimport img2 from '../img/pexels_2.jpeg';\r\nimport img3 from '../img/pexels_3.jpeg';\r\nimport img4 from '../img/pexels_4.jpeg';\r\nimport img5 from '../img/pexels_5.jpeg';\r\nimport img6 from '../img/pexels_6.jpeg';\r\nimport img7 from '../img/pexels_7.jpeg';\r\nimport img8 from '../img/pexels_8.jpeg';\r\nimport img9 from '../img/pexels_9.jpeg';\r\nimport img10 from '../img/pexels_10.jpeg';\r\nimport img11 from '../img/pexels_11.jpeg';\r\nimport img12 from '../img/pexels_12.jpeg';\r\nimport img13 from '../img/pexels_13.jpeg';\r\nimport { DndProvider } from 'react-dnd';\r\nimport { TouchBackend } from 'react-dnd-touch-backend';\r\n\r\nconst initialImages = [\r\n  { id: 'image1', src: img1, tags: ['animals'] },\r\n  { id: 'image2', src: img2, tags: ['animals'] },\r\n  { id: 'image3', src: img3, tags: ['animals'] },\r\n  { id: 'image4', src: img4, tags: ['animals'] },\r\n  { id: 'image5', src: img5, tags: ['animals'] },\r\n  { id: 'image6', src: img6, tags: ['cars'] },\r\n  { id: 'image7', src: img7, tags: ['books'] },\r\n  { id: 'image8', src: img8, tags: ['books'] },\r\n  { id: 'image9', src: img9, tags: ['books'] },\r\n  { id: 'image10', src: img10, tags: ['cars'] },\r\n  { id: 'image11', src: img11, tags: ['books'] },\r\n  { id: 'image12', src: img12, tags: ['cars'] },\r\n  { id: 'image13', src: img13, tags: ['cars'] }\r\n];\r\n\r\nfunction Images() {\r\n  const [images, setImages] = useState([]);\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const preloadImages = () => {\r\n      const imagesToPreload = initialImages.map((image) => {\r\n        const img = new Image();\r\n        img.src = image.src;\r\n        return img;\r\n      });\r\n\r\n      Promise.all(imagesToPreload.map((img) => img.decode()))\r\n        .then(() => {\r\n          setImages(initialImages);\r\n          setLoading(false);\r\n        })\r\n        .catch((error) => {\r\n          console.error('Error preloading images:', error);\r\n        });\r\n    };\r\n\r\n    preloadImages();\r\n  }, []);\r\n\r\n  const handleDragStart = (e, id) => {\r\n    e.dataTransfer.setData('text/plain', id);\r\n  };\r\n\r\n  const handleDragOver = (e) => {\r\n    e.preventDefault();\r\n  };\r\n\r\n  const handleDrop = (e, targetIndex) => {\r\n    e.preventDefault();\r\n    const draggedImageId = e.dataTransfer.getData('text/plain');\r\n    const updatedImages = [...images];\r\n    const draggedImage = updatedImages.find((image) => image.id === draggedImageId);\r\n\r\n    if (draggedImage) {\r\n      const currentIndex = updatedImages.findIndex((image) => image.id === draggedImageId);\r\n      updatedImages.splice(currentIndex, 1);\r\n      updatedImages.splice(targetIndex, 0, draggedImage);\r\n      setImages(updatedImages);\r\n    }\r\n  };\r\n\r\n  const filterImages = (query) => {\r\n    setSearchQuery(query);\r\n\r\n    const filteredImages = initialImages.filter((image) => {\r\n      return image.tags.some((tag) =>\r\n        tag.toLowerCase().includes(query.toLowerCase())\r\n      );\r\n    });\r\n\r\n    setImages(filteredImages);\r\n  };\r\n\r\n  return (\r\n    <DndProvider backend={TouchBackend} options={{ enableMouseEvents: true }}>\r\n      <div>\r\n        <div className=\"search-container\">\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search for Images (e.g animals, cars, books..)\"\r\n            className=\"search-input\"\r\n            value={searchQuery}\r\n            onChange={(e) => filterImages(e.target.value)}\r\n          />\r\n          <button className=\"search-button\">\r\n            <img src={searchIcon} alt=\"search button\" />\r\n          </button>\r\n        </div>\r\n\r\n        {loading ? (\r\n          <div className=\"loader\">Loading...</div>\r\n        ) : (\r\n          <div className=\"image-gallery\">\r\n            {images.map((image, index) => (\r\n              <div\r\n                key={image.id}\r\n                className=\"image-item\"\r\n                draggable\r\n                onDragStart={(e) => handleDragStart(e, image.id)}\r\n                onDragOver={handleDragOver}\r\n                onDrop={(e) => handleDrop(e, index)}\r\n              >\r\n                <img\r\n                  src={image.src}\r\n                  alt={`Index: ${index + 1}`}\r\n                  className=\"drag-image\"\r\n                />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </DndProvider>\r\n  );\r\n}\r\n\r\nexport default Images;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}