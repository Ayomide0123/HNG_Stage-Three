{"ast":null,"code":"import _classCallCheck from \"C:/Users/oyeti/Documents/GitHub/HNG_Stage-Three/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"C:/Users/oyeti/Documents/GitHub/HNG_Stage-Three/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { createDragDropActions } from '../actions/dragDrop/index.js';\nexport var DragDropManagerImpl = /*#__PURE__*/function () {\n  function DragDropManagerImpl(store, monitor) {\n    var _this = this;\n    _classCallCheck(this, DragDropManagerImpl);\n    this.isSetUp = false;\n    this.handleRefCountChange = function () {\n      var shouldSetUp = _this.store.getState().refCount > 0;\n      if (_this.backend) {\n        if (shouldSetUp && !_this.isSetUp) {\n          _this.backend.setup();\n          _this.isSetUp = true;\n        } else if (!shouldSetUp && _this.isSetUp) {\n          _this.backend.teardown();\n          _this.isSetUp = false;\n        }\n      }\n    };\n    this.store = store;\n    this.monitor = monitor;\n    store.subscribe(this.handleRefCountChange);\n  }\n  _createClass(DragDropManagerImpl, [{\n    key: \"receiveBackend\",\n    value: function receiveBackend(backend) {\n      this.backend = backend;\n    }\n  }, {\n    key: \"getMonitor\",\n    value: function getMonitor() {\n      return this.monitor;\n    }\n  }, {\n    key: \"getBackend\",\n    value: function getBackend() {\n      return this.backend;\n    }\n  }, {\n    key: \"getRegistry\",\n    value: function getRegistry() {\n      return this.monitor.registry;\n    }\n  }, {\n    key: \"getActions\",\n    value: function getActions() {\n      /* eslint-disable-next-line @typescript-eslint/no-this-alias */var manager = this;\n      var dispatch = this.store.dispatch;\n      function bindActionCreator(actionCreator) {\n        return function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n          var action = actionCreator.apply(manager, args);\n          if (typeof action !== 'undefined') {\n            dispatch(action);\n          }\n        };\n      }\n      var actions = createDragDropActions(this);\n      return Object.keys(actions).reduce(function (boundActions, key) {\n        var action = actions[key];\n        boundActions[key] = bindActionCreator(action);\n        return boundActions;\n      }, {});\n    }\n  }, {\n    key: \"dispatch\",\n    value: function dispatch(action) {\n      this.store.dispatch(action);\n    }\n  }]);\n  return DragDropManagerImpl;\n}();","map":{"version":3,"names":["createDragDropActions","DragDropManagerImpl","store","monitor","_this","_classCallCheck","isSetUp","handleRefCountChange","shouldSetUp","getState","refCount","backend","setup","teardown","subscribe","_createClass","key","value","receiveBackend","getMonitor","getBackend","getRegistry","registry","getActions","manager","dispatch","bindActionCreator","actionCreator","_len","arguments","length","args","Array","_key","action","apply","actions","Object","keys","reduce","boundActions"],"sources":["C:\\Users\\oyeti\\Documents\\GitHub\\HNG_Stage-Three\\node_modules\\dnd-core\\src\\classes\\DragDropManagerImpl.ts"],"sourcesContent":["import type { Action, Store } from 'redux'\n\nimport { createDragDropActions } from '../actions/dragDrop/index.js'\nimport type {\n\tActionCreator,\n\tBackend,\n\tDragDropActions,\n\tDragDropManager,\n\tDragDropMonitor,\n\tHandlerRegistry,\n} from '../interfaces.js'\nimport type { State } from '../reducers/index.js'\nimport type { DragDropMonitorImpl } from './DragDropMonitorImpl.js'\n\nexport class DragDropManagerImpl implements DragDropManager {\n\tprivate store: Store<State>\n\tprivate monitor: DragDropMonitor\n\tprivate backend: Backend | undefined\n\tprivate isSetUp = false\n\n\tpublic constructor(store: Store<State>, monitor: DragDropMonitor) {\n\t\tthis.store = store\n\t\tthis.monitor = monitor\n\t\tstore.subscribe(this.handleRefCountChange)\n\t}\n\n\tpublic receiveBackend(backend: Backend): void {\n\t\tthis.backend = backend\n\t}\n\n\tpublic getMonitor(): DragDropMonitor {\n\t\treturn this.monitor\n\t}\n\n\tpublic getBackend(): Backend {\n\t\treturn this.backend as Backend\n\t}\n\n\tpublic getRegistry(): HandlerRegistry {\n\t\treturn (this.monitor as DragDropMonitorImpl).registry\n\t}\n\n\tpublic getActions(): DragDropActions {\n\t\t/* eslint-disable-next-line @typescript-eslint/no-this-alias */\n\t\tconst manager = this\n\t\tconst { dispatch } = this.store\n\n\t\tfunction bindActionCreator(actionCreator: ActionCreator<any>) {\n\t\t\treturn (...args: any[]) => {\n\t\t\t\tconst action = actionCreator.apply(manager, args as any)\n\t\t\t\tif (typeof action !== 'undefined') {\n\t\t\t\t\tdispatch(action)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tconst actions = createDragDropActions(this)\n\n\t\treturn Object.keys(actions).reduce(\n\t\t\t(boundActions: DragDropActions, key: string) => {\n\t\t\t\tconst action: ActionCreator<any> = (actions as any)[\n\t\t\t\t\tkey\n\t\t\t\t] as ActionCreator<any>\n\t\t\t\t;(boundActions as any)[key] = bindActionCreator(action)\n\t\t\t\treturn boundActions\n\t\t\t},\n\t\t\t{} as DragDropActions,\n\t\t)\n\t}\n\n\tpublic dispatch(action: Action<any>): void {\n\t\tthis.store.dispatch(action)\n\t}\n\n\tprivate handleRefCountChange = (): void => {\n\t\tconst shouldSetUp = this.store.getState().refCount > 0\n\t\tif (this.backend) {\n\t\t\tif (shouldSetUp && !this.isSetUp) {\n\t\t\t\tthis.backend.setup()\n\t\t\t\tthis.isSetUp = true\n\t\t\t} else if (!shouldSetUp && this.isSetUp) {\n\t\t\t\tthis.backend.teardown()\n\t\t\t\tthis.isSetUp = false\n\t\t\t}\n\t\t}\n\t}\n}\n"],"mappings":";;AAEA,SAASA,qBAAqB,QAAQ,8BAA8B;AAYpE,WAAaC,mBAAmB;EAM/B,SAAAA,oBAAmBC,KAAmB,EAAEC,OAAwB,EAAE;IAAA,IAAAC,KAAA;IAAAC,eAAA,OAAAJ,mBAAA;IAFlE,KAAQK,OAAO,GAAG,KAAK;IAwDvB,KAAQC,oBAAoB,GAAG,YAAY;MAC1C,IAAMC,WAAW,GAAGJ,KAAI,CAACF,KAAK,CAACO,QAAQ,EAAE,CAACC,QAAQ,GAAG,CAAC;MACtD,IAAIN,KAAI,CAACO,OAAO,EAAE;QACjB,IAAIH,WAAW,IAAI,CAACJ,KAAI,CAACE,OAAO,EAAE;UACjCF,KAAI,CAACO,OAAO,CAACC,KAAK,EAAE;UACpBR,KAAI,CAACE,OAAO,GAAG,IAAI;SACnB,MAAM,IAAI,CAACE,WAAW,IAAIJ,KAAI,CAACE,OAAO,EAAE;UACxCF,KAAI,CAACO,OAAO,CAACE,QAAQ,EAAE;UACvBT,KAAI,CAACE,OAAO,GAAG,KAAK;;;KAGtB;IAhEA,IAAI,CAACJ,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACC,OAAO,GAAGA,OAAO;IACtBD,KAAK,CAACY,SAAS,CAAC,IAAI,CAACP,oBAAoB,CAAC;;EAC1CQ,YAAA,CAAAd,mBAAA;IAAAe,GAAA;IAAAC,KAAA,EAED,SAAAC,eAAsBP,OAAgB,EAAQ;MAC7C,IAAI,CAACA,OAAO,GAAGA,OAAO;;EACtB;IAAAK,GAAA;IAAAC,KAAA,EAED,SAAAE,WAAA,EAAqC;MACpC,OAAO,IAAI,CAAChB,OAAO;;EACnB;IAAAa,GAAA;IAAAC,KAAA,EAED,SAAAG,WAAA,EAA6B;MAC5B,OAAO,IAAI,CAACT,OAAO;;EACnB;IAAAK,GAAA;IAAAC,KAAA,EAED,SAAAI,YAAA,EAAsC;MACrC,OAAO,IAAK,CAAClB,OAAO,CAAyBmB,QAAQ;;EACrD;IAAAN,GAAA;IAAAC,KAAA,EAED,SAAAM,WAAA,EAAqC;MACpC,+DACA,IAAMC,OAAO,GAAG,IAAI;MACpB,IAAQC,QAAQ,GAAK,IAAI,CAACvB,KAAK,CAAvBuB,QAAQ;MAEhB,SAASC,iBAAiBA,CAACC,aAAiC,EAAE;QAC7D,OAAO,YAAoB;UAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAhBC,IAAI,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;YAAJF,IAAI,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;UAAA;UACd,IAAMC,MAAM,GAAGP,aAAa,CAACQ,KAAK,CAACX,OAAO,EAAEO,IAAI,CAAQ;UACxD,IAAI,OAAOG,MAAM,KAAK,WAAW,EAAE;YAClCT,QAAQ,CAACS,MAAM,CAAC;;SAEjB;;MAGF,IAAME,OAAO,GAAGpC,qBAAqB,CAAC,IAAI,CAAC;MAE3C,OAAOqC,MAAM,CAACC,IAAI,CAACF,OAAO,CAAC,CAACG,MAAM,CACjC,UAACC,YAA6B,EAAExB,GAAW,EAAK;QAC/C,IAAMkB,MAAM,GAAuBE,OAAQ,CAC1CpB,GAAG,CACH;QACAwB,YAAa,CAASxB,GAAG,CAAC,GAAGU,iBAAiB,CAACQ,MAAM,CAAC;QACvD,OAAOM,YAAY;OACnB,EACD,EAAE,CACF;;EACD;IAAAxB,GAAA;IAAAC,KAAA,EAED,SAAAQ,SAAgBS,MAAmB,EAAQ;MAC1C,IAAI,CAAChC,KAAK,CAACuB,QAAQ,CAACS,MAAM,CAAC;;EAC3B;EAAA,OAAAjC,mBAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}