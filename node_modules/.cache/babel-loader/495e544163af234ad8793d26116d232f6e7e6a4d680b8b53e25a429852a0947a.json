{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/oyeti/Documents/GitHub/HNG_Stage-Three/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/oyeti/Documents/GitHub/HNG_Stage-Three/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/oyeti/Documents/GitHub/HNG_Stage-Three/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{createContext,useContext,useEffect,useState}from'react';import{initializeApp}from'firebase/app';import{getAuth,onAuthStateChanged,signInWithEmailAndPassword,signOut}from'firebase/auth';import firebaseConfig from'./config.js';import{jsx as _jsx}from\"react/jsx-runtime\";var AuthContext=/*#__PURE__*/createContext();export var useAuth=function useAuth(){return useContext(AuthContext);};export var AuthProvider=function AuthProvider(_ref){var children=_ref.children;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),currentUser=_useState2[0],setCurrentUser=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];// Initialize Firebase with your configuration\nvar app=initializeApp(firebaseConfig);var auth=getAuth(app);useEffect(function(){// Set up an observer to listen for authentication state changes\nvar unsubscribe=onAuthStateChanged(auth,function(user){setCurrentUser(user);setLoading(false);});return function(){// Unsubscribe from the observer when the component unmounts\nunsubscribe();};},[auth]);var signInUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(email,password){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return signInWithEmailAndPassword(auth,email,password);case 3:_context.next=8;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);// Handle sign-in error\nconsole.error('Error signing in:',_context.t0);case 8:case\"end\":return _context.stop();}},_callee,null,[[0,5]]);}));return function signInUser(_x,_x2){return _ref2.apply(this,arguments);};}();var signOutUser=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return signOut(auth);case 3:_context2.next=8;break;case 5:_context2.prev=5;_context2.t0=_context2[\"catch\"](0);// Handle sign-out error\nconsole.error('Error signing out:',_context2.t0);case 8:case\"end\":return _context2.stop();}},_callee2,null,[[0,5]]);}));return function signOutUser(){return _ref3.apply(this,arguments);};}();var value={currentUser:currentUser,signIn:signInUser,signOut:signOutUser};return/*#__PURE__*/_jsx(AuthContext.Provider,{value:value,children:!loading&&children});};","map":{"version":3,"names":["React","createContext","useContext","useEffect","useState","initializeApp","getAuth","onAuthStateChanged","signInWithEmailAndPassword","signOut","firebaseConfig","jsx","_jsx","AuthContext","useAuth","AuthProvider","_ref","children","_useState","_useState2","_slicedToArray","currentUser","setCurrentUser","_useState3","_useState4","loading","setLoading","app","auth","unsubscribe","user","signInUser","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","email","password","wrap","_callee$","_context","prev","next","t0","console","error","stop","_x","_x2","apply","arguments","signOutUser","_ref3","_callee2","_callee2$","_context2","value","signIn","Provider"],"sources":["C:/Users/oyeti/Documents/GitHub/HNG_Stage-Three/src/components/authContext.js"],"sourcesContent":["import React, { createContext, useContext, useEffect, useState } from 'react';\r\nimport { initializeApp } from 'firebase/app';\r\nimport { getAuth, onAuthStateChanged, signInWithEmailAndPassword, signOut } from 'firebase/auth';\r\nimport firebaseConfig from './config.js';\r\n\r\nconst AuthContext = createContext();\r\n\r\nexport const useAuth = () => {\r\n  return useContext(AuthContext);\r\n};\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // Initialize Firebase with your configuration\r\n  const app = initializeApp(firebaseConfig);\r\n  const auth = getAuth(app);\r\n\r\n  useEffect(() => {\r\n    // Set up an observer to listen for authentication state changes\r\n    const unsubscribe = onAuthStateChanged(auth, (user) => {\r\n      setCurrentUser(user);\r\n      setLoading(false);\r\n    });\r\n\r\n    return () => {\r\n      // Unsubscribe from the observer when the component unmounts\r\n      unsubscribe();\r\n    };\r\n  }, [auth]);\r\n\r\n  const signInUser = async (email, password) => {\r\n    try {\r\n      await signInWithEmailAndPassword(auth, email, password);\r\n    } catch (error) {\r\n      // Handle sign-in error\r\n      console.error('Error signing in:', error);\r\n    }\r\n  };\r\n\r\n  const signOutUser = async () => {\r\n    try {\r\n      await signOut(auth);\r\n    } catch (error) {\r\n      // Handle sign-out error\r\n      console.error('Error signing out:', error);\r\n    }\r\n  };\r\n\r\n  const value = {\r\n    currentUser,\r\n    signIn: signInUser,\r\n    signOut: signOutUser,\r\n  };\r\n\r\n  return <AuthContext.Provider value={value}>{!loading && children}</AuthContext.Provider>;\r\n};\r\n"],"mappings":"+ZAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC7E,OAASC,aAAa,KAAQ,cAAc,CAC5C,OAASC,OAAO,CAAEC,kBAAkB,CAAEC,0BAA0B,CAAEC,OAAO,KAAQ,eAAe,CAChG,MAAO,CAAAC,cAAc,KAAM,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEzC,GAAM,CAAAC,WAAW,cAAGZ,aAAa,CAAC,CAAC,CAEnC,MAAO,IAAM,CAAAa,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAA,CAAS,CAC3B,MAAO,CAAAZ,UAAU,CAACW,WAAW,CAAC,CAChC,CAAC,CAED,MAAO,IAAM,CAAAE,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAAC,IAAA,CAAqB,IAAf,CAAAC,QAAQ,CAAAD,IAAA,CAARC,QAAQ,CACrC,IAAAC,SAAA,CAAsCd,QAAQ,CAAC,IAAI,CAAC,CAAAe,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA7CG,WAAW,CAAAF,UAAA,IAAEG,cAAc,CAAAH,UAAA,IAClC,IAAAI,UAAA,CAA8BnB,QAAQ,CAAC,IAAI,CAAC,CAAAoB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAArCE,OAAO,CAAAD,UAAA,IAAEE,UAAU,CAAAF,UAAA,IAE1B;AACA,GAAM,CAAAG,GAAG,CAAGtB,aAAa,CAACK,cAAc,CAAC,CACzC,GAAM,CAAAkB,IAAI,CAAGtB,OAAO,CAACqB,GAAG,CAAC,CAEzBxB,SAAS,CAAC,UAAM,CACd;AACA,GAAM,CAAA0B,WAAW,CAAGtB,kBAAkB,CAACqB,IAAI,CAAE,SAACE,IAAI,CAAK,CACrDR,cAAc,CAACQ,IAAI,CAAC,CACpBJ,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CAEF,MAAO,WAAM,CACX;AACAG,WAAW,CAAC,CAAC,CACf,CAAC,CACH,CAAC,CAAE,CAACD,IAAI,CAAC,CAAC,CAEV,GAAM,CAAAG,UAAU,6BAAAC,KAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,KAAK,CAAEC,QAAQ,SAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAE/B,CAAAnC,0BAA0B,CAACoB,IAAI,CAAES,KAAK,CAAEC,QAAQ,CAAC,QAAAG,QAAA,CAAAE,IAAA,gBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAG,EAAA,CAAAH,QAAA,aAEvD;AACAI,OAAO,CAACC,KAAK,CAAC,mBAAmB,CAAAL,QAAA,CAAAG,EAAO,CAAC,CAAC,wBAAAH,QAAA,CAAAM,IAAA,MAAAX,OAAA,gBAE7C,kBAPK,CAAAL,UAAUA,CAAAiB,EAAA,CAAAC,GAAA,SAAAjB,KAAA,CAAAkB,KAAA,MAAAC,SAAA,OAOf,CAED,GAAM,CAAAC,WAAW,6BAAAC,KAAA,CAAApB,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAmB,SAAA,SAAApB,mBAAA,GAAAK,IAAA,UAAAgB,UAAAC,SAAA,iBAAAA,SAAA,CAAAd,IAAA,CAAAc,SAAA,CAAAb,IAAA,SAAAa,SAAA,CAAAd,IAAA,GAAAc,SAAA,CAAAb,IAAA,SAEV,CAAAlC,OAAO,CAACmB,IAAI,CAAC,QAAA4B,SAAA,CAAAb,IAAA,gBAAAa,SAAA,CAAAd,IAAA,GAAAc,SAAA,CAAAZ,EAAA,CAAAY,SAAA,aAEnB;AACAX,OAAO,CAACC,KAAK,CAAC,oBAAoB,CAAAU,SAAA,CAAAZ,EAAO,CAAC,CAAC,wBAAAY,SAAA,CAAAT,IAAA,MAAAO,QAAA,gBAE9C,kBAPK,CAAAF,WAAWA,CAAA,SAAAC,KAAA,CAAAH,KAAA,MAAAC,SAAA,OAOhB,CAED,GAAM,CAAAM,KAAK,CAAG,CACZpC,WAAW,CAAXA,WAAW,CACXqC,MAAM,CAAE3B,UAAU,CAClBtB,OAAO,CAAE2C,WACX,CAAC,CAED,mBAAOxC,IAAA,CAACC,WAAW,CAAC8C,QAAQ,EAACF,KAAK,CAAEA,KAAM,CAAAxC,QAAA,CAAE,CAACQ,OAAO,EAAIR,QAAQ,CAAuB,CAAC,CAC1F,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}